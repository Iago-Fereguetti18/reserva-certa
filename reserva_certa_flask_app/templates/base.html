<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Reserva Certa{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  </head>
  <body>
    <header>
      <h1>Reserva Certa</h1>
      <nav>
        <a href="{{ url_for('index') }}">Início</a>
        <a href="{{ url_for('spaces_list') }}">Espaços</a>
        <a href="{{ url_for('users_list') }}">Usuários</a>
        <a href="{{ url_for('admin_reservations') }}">Admin Reservas</a>
        <a href="{{ url_for('daily_agenda') }}">Agenda</a>
        <a href="{{ url_for('reports') }}">Relatórios</a>
      </nav>
      <div class="user-links" style="margin-left:auto">
        {% if session.user_id %}
          {% set cu = None %}
          {% if session.user_id %}
            {% set cu = (session.user_id and (session.user_id)) %}
          {% endif %}
          <span style="margin-right:12px">Usuário: {{ session.user_id }}</span>
          <a href="{{ url_for('logout') }}">Sair</a>
        {% else %}
          <a href="{{ url_for('login') }}">Entrar</a>
        {% endif %}
      </div>
    </header>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="flash-messages" style="max-width:1200px;margin:12px auto;padding:0 20px;">
          {% for category, msg in messages %}
            <div class="flash {{ category }}" style="padding:10px;border-radius:6px;margin-bottom:10px;background:#eef2ff;color:#0f172a">{{ msg }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <main>
      {% block content %}{% endblock %}
    </main>
  </body>
</html>
